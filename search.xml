<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>python--ä¿¡æ¯è‡ªåŠ¨å‘é€å™¨</title>
      <link href="/2023/04/06/python%E5%AE%9E%E7%8E%B0%20--%20QQ%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%8A%A8%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%99%A8/"/>
      <url>/2023/04/06/python%E5%AE%9E%E7%8E%B0%20--%20QQ%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%8A%A8%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="æºç å®ç°"><a href="#æºç å®ç°" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h1><pre><code class="python">import win32guiimport win32apiimport win32conimport win32clipboard as wimport timeimport optparseimport randomimport requestsdef ctrlV():    win32api.keybd_event(17,0,0,0)  #ctrlé”®ä½ç æ˜¯17    win32api.keybd_event(86,0,0,0)  #vé”®ä½ç æ˜¯86    win32api.keybd_event(86,0,win32con.KEYEVENTF_KEYUP,0) #é‡Šæ”¾æŒ‰é”®    win32api.keybd_event(17,0,win32con.KEYEVENTF_KEYUP,0)def send(name, msg,sleep_time):    #æ‰“å¼€å‰ªè´´æ¿    w.OpenClipboard()    #æ¸…ç©ºå‰ªè´´æ¿    w.EmptyClipboard()    #è®¾ç½®å‰ªè´´æ¿å†…å®¹    w.SetClipboardData(win32con.CF_UNICODETEXT, msg)    #è·å–å‰ªè´´æ¿å†…å®¹    date = w.GetClipboardData()    #å…³é—­å‰ªè´´æ¿    w.CloseClipboard()    #è·å–çª—å£å¥æŸ„    handle = win32gui.FindWindow(None,name)    if handle == 0:        print(&#39;---------ä¸ºæ‰“å¼€è¯¥çª—å£------&#39;)    #æ˜¾ç¤ºçª—å£    win32gui.ShowWindow(handle,win32con.SW_SHOW)    #æŠŠå‰ªåˆ‡æ¿å†…å®¹ç²˜è´´åˆ°qqçª—å£    ctrlV()    time.sleep(sleep_time)#å»¶ç¼“è¿›ç¨‹    #win32gui.SendMessage(handle, win32con.WM_PASTE, 0, 0)    #æŒ‰ä¸‹åæ¾å¼€å›è½¦é”®ï¼Œå‘é€æ¶ˆæ¯    win32gui.SendMessage(handle, win32con.WM_KEYDOWN, win32con.VK_RETURN, 0)    win32gui.SendMessage(handle, win32con.WM_KEYUP, win32con.VK_RETURN, 0)def banner():    print(&quot;&quot;&quot;           _______ .__   __.  _______   ____   ____    ____  ___   .______                |   ____||  \ |  | |       \ |___ \  \   \  /   / / _ \  |   _  \               |  |__   |   \|  | |  .--.  |  __) |  \   \/   / | | | | |  |_)  |              |   __|  |  . `  | |  |  |  | |__ &lt;    \      /  | | | | |      /               |  |____ |  |\   | |  &#39;--&#39;  | ___) |    \    /   | |_| | |  |\  \----.          |_______||__| \__| |_______/ |____/      \__/     \___/  | _| `._____|          &quot;&quot;&quot;)def RUN():    banner()    print(&#39;------RUN-----&#39;)    usage = &#39;python %prog -u/--user &lt;target user&gt; / -m/--msg &lt;target message&gt; -t/--time &lt;target times&gt;&#39;    parser = optparse.OptionParser(usage)    parser.add_option(&#39;-u&#39;,&#39;--user&#39;,dest=&quot;user&quot;,type=&quot;string&quot;,help = &quot;target user&quot;,default=&quot;cyhè¿™è¾ˆå­æœ€çˆ±çš„å”¯ä¸€äº²è€å©†&quot;)    parser.add_option(&#39;-m&#39;,&#39;--msg&#39;,dest=&quot;message&quot;,type=&quot;string&quot;,help = &quot;target message&quot;,default = &quot;æˆ‘æ°¸è¿œçˆ±ä½ !&quot;)    parser.add_option(&#39;-t&#39;,&#39;--time&#39;,dest=&quot;time&quot;,type=&quot;int&quot;,help = &quot;target times&quot;,default = 5)    parser.add_option(&#39;-s&#39;,&#39;--sleep&#39;,dest=&quot;sleep&quot;,type=&quot;float&quot;,help = &quot;target sleep time&quot;,default = 1)    parser.add_option(&#39;-c&#39;,&#39;--choice&#39;,dest=&quot;choice&quot;,type=&quot;string&quot;,help = &quot;function selection&quot;,default = &#39;1&#39;)    opts,args = parser.parse_args()    if(opts.choice == &#39;1&#39;):        for i in range(0, opts.time):            print(&quot;å‘é€æˆåŠŸ:&quot;+opts.message)            send(opts.user, opts.message,opts.sleep)        print(&#39;-----over----&#39;)    else:        for i in range(0, opts.time):            message = sentence(opts.choice)            print(&quot;å‘é€æˆåŠŸ:&quot;+message)            send(opts.user,message,opts.sleep)        print(&#39;-----over----&#39;)def sentence(choice):    url = &quot;https://v1.hitokoto.cn/?c=&quot;+ choice +&quot;&amp;encode=text&amp;min_length=15&quot;    r = requests.post(url)    return r.textif __name__ == &quot;__main__&quot;:    RUN()</code></pre>]]></content>
      
      
      <categories>
          
          <category> pythonå¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythonå¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023å¹´ä¸œå—å¤§å­¦916åˆå¤è¯•ç»éªŒè´´</title>
      <link href="/2023/04/06/2023%E4%B8%9C%E5%8D%97%E5%A4%A7%E5%AD%A6916%E5%88%9D%E8%AF%95%E5%A4%8D%E8%AF%95%E7%BB%8F%E9%AA%8C%E8%B4%B4/"/>
      <url>/2023/04/06/2023%E4%B8%9C%E5%8D%97%E5%A4%A7%E5%AD%A6916%E5%88%9D%E8%AF%95%E5%A4%8D%E8%AF%95%E7%BB%8F%E9%AA%8C%E8%B4%B4/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€-æŠ¥è€ƒåŸå› "><a href="#ä¸€-æŠ¥è€ƒåŸå› " class="headerlink" title="ä¸€. æŠ¥è€ƒåŸå› "></a>ä¸€. æŠ¥è€ƒåŸå› </h1><p>æœ¬æ¥å‡†å¤‡ç»§ç»­åœ¨å°ç ´é‚®è¯»ç ”çš„,å¥³æœ‹å‹æƒ³è€ƒä¸œå—,å°±å°±å°±å°±ä¸Šå²¸ä¸œå—å•¦!</p><h1 id="äºŒ-åˆè¯•å‡†å¤‡"><a href="#äºŒ-åˆè¯•å‡†å¤‡" class="headerlink" title="äºŒ. åˆè¯•å‡†å¤‡"></a>äºŒ. åˆè¯•å‡†å¤‡</h1><h2 id="1-æ•°å­¦ä¸€-118-åˆ†"><a href="#1-æ•°å­¦ä¸€-118-åˆ†" class="headerlink" title="1. æ•°å­¦ä¸€ 118 åˆ†"></a>1. æ•°å­¦ä¸€ 118 åˆ†</h2><p>å¤§ä¸€å¤§äºŒæœŸé—´å› ä¸ºç–«æƒ…æ²¡å­¦ä¹ ,æ•°å­¦åŠŸåº•ä¸€èˆ¬,é«˜æ•°ä¸‹66åˆ†,æ¦‚ç‡è®º79åˆ†,ä¸€å¼€å§‹ä¹Ÿå› ä¸ºæ•°å­¦æ„Ÿåˆ°å‘æ…Œ,åæ¥æƒ³äº†ä¸€ä¸‹,è€ƒä¸œå—æ•°å­¦æœ‰110åˆ†ä¹Ÿå°±å¤Ÿäº†,å°½åŠ›å­¦å°±è¡Œ!</p><p>é«˜æ•°è§†é¢‘:æˆ‘åŸºç¡€ç­è·Ÿçš„æ˜¯å¼ å®‡è€å¸ˆ,æ—¶é—´å¤§æ¦‚æ˜¯2æœˆåˆ°3æœˆ(ç°åœ¨å¯ä»¥å«å°å®‡äº†),å¼ å®‡è€å¸ˆçš„æ•™å­¦é£æ ¼æ¯”è¾ƒå¹½é»˜,åŸºç¡€éƒ¨åˆ†ä¹Ÿæœ‰å›é¡¾å¤§å­¦ä¹‹å‰çš„çŸ¥è¯†,é€‚åˆåŸºç¡€è¾ƒä¸ºå¥½çš„åŒå­¦,ç‚¹ç«å…¬å¼è¿™äº›å¯ä»¥è¯´æ˜¯è€ƒç ”å¿…å­¦äº†!å¼ºåŒ–ç­è·Ÿäº†æ­¦å¿ ç¥¥è€å¸ˆ,å› ä¸ºå¤ä¹ è¿›åº¦è¾ƒå¿«,æ‰€ä»¥åœ¨5-6æœˆå°±è¿‡äº†ç¬¬ä¸€é2022å¹´çš„å¼ºåŒ–ç­(å½“æ—¶2023è¿˜æ²¡å¼€å§‹å‡º),åšäº†é…å¥—çš„ä¸¥é€‰é¢˜(å¿…åˆ·),ä½†æ˜¯æ„Ÿè§‰æ²¡å­¦è¿›è„‘å­,èµ¶è¿›åº¦,ä½†æ˜¯å·²ç»å¯¹æ­¦è€å¸ˆçš„æ•™å­¦é£æ ¼æœ‰äº†ä¸€å®šçš„äº†è§£,æ•°äºŒéƒ¨åˆ†è®²çš„éå¸¸æ‰å®,å¯ä»¥è¯´å¨“å¨“é“æ¥,æ…¢æ…¢å­¦ä¸‹æ¥ç¡®å®æœ‰åŠ©äºä½ åœ¨é¢˜ç›®çš„ç†è§£å’Œè§£é¢˜ä¸Šæœ‰å¸®åŠ©,å’Œå®‡å“¥æ³¨é‡çš„æŠ€å·§ä¸åŒ(è„‘å­å¥½ä½¿)ã€‚æš‘æœŸåˆè·Ÿäº†ä¸€è¾¹æ­¦è€å¸ˆçš„2023å¼ºåŒ–,è¿™æ¬¡å®‰å®‰å¿ƒçš„å­¦äº†ä¸€é,é«˜æ•°æ„Ÿè§‰æœ‰äº†å¾ˆå¤§çš„æå‡,åœ¨åæœŸä½œæ¨¡æ‹Ÿå·çš„æ—¶å€™å¯ä»¥æ˜æ˜¾æ„Ÿè§‰åˆ°,åœ¨ä¸€äº›é¢˜ç›®ä¸Šæœ‰äº†äº›æ–°çš„æƒ³æ³•å¯ä»¥å¸®åŠ©è§£é¢˜,å¼ºè°ƒä¸€ä¸‹æ•°ä¸€éƒ¨åˆ†(å¬å®Œæ­¦è€å†å¬ä¸€ä¸‹å®‡å“¥,å°¤å…¶çº¿é¢ç§¯åˆ†è¿™ä¸ªåˆ†å¾ˆé‡è¦!çº§æ•°å¦‚æœè§‰å¾—è‡ªå·±å­¦çš„å¥½å¯ä»¥ä¸å¬!)</p><p>é«˜æ•°é¢˜ç›®:1800åŸºç¡€éƒ¨åˆ†(åŸºç¡€ä¸å¥½çš„æ‰“åŸºç¡€å¯ä»¥,åˆ«çš„ä¸å¤ªå»ºè®®åš)+660(ä¸€éä¸”é”™é¢˜åå¤åšç†è§£æ¦‚å¿µ)+ ä¸¥é€‰é¢˜(åˆ·äº†ä¸¤é,é”™é¢˜3éä»¥ä¸Š) + 880(æš‘æœŸå›æ¥880çš„é«˜æ•°åšäº†ä¸€é,é¢˜ç›®æ„Ÿè§‰æ¯”1800éš¾æ¯”ä¸¥é€‰ç®€å•) + 330 +å¼ å®‡1000é¢˜çº¿é¢ç§¯åˆ†éƒ¨åˆ†å¤§æ¦‚100é¢˜è¿™æ ·åæœŸæ¯å¤©2-3é¢˜ + åæœŸæ­¦è€å¸ˆæ¯æ—¥ä¸€é¢˜</p><p><strong>çº¿ä»£è§†é¢‘:</strong> ä¸€å¼€å§‹å°±å¯¹çº¿ä»£å¾ˆæœ‰ä¿¡å¿ƒ,å­¦çš„æ¯”è¾ƒé©¬è™,åæœŸåƒäº†ä¸å°‘è‹¦å¤´,ææ°¸ä¹è€çˆ·å­ä¸»æ¨,å¼ å®‡çº¿ä»£è®²çš„è¿˜è¡Œä¹Ÿå¯ä»¥å¬,ä¸»è¦è¦è®°ä½å¤§æ¦‚ä»€ä¹ˆé¢˜å‹ç”¨ä»€ä¹ˆæ–¹æ³•,ç‰¹å¾å€¼è¿™äº›è¦è®°å¾—å¾ˆç‰¢,æƒ³åˆ°å°±èƒ½ç§’è§£</p><p><strong>çº¿ä»£é¢˜ç›®:</strong> 660(çº¿ä»£éƒ¨åˆ†å‰æœŸæ‰“åŸºç¡€å†™,åç®€å•) + æè€çˆ·å­çº¿ä»£å¼ºåŒ–çš„é…å¥—ç»ƒä¹ é¢˜ + 880çº¿ä»£éƒ¨åˆ†(å¿…é¡»åš,éš¾æ­»æˆ‘äº†) + 330 </p><p><strong>æ¦‚ç‡è®ºè§†é¢‘:</strong> ä¿ºä¸çŸ¥é“æ–¹æµ©ä»–ä»¬æ•™çš„å’‹æ ·,è¿™ä¸ªåªè·Ÿäº†æ£®å“¥,æˆ‘åªèƒ½è¯´å¬çš„æ‡‚,æ¦‚ç‡è®ºç»™æˆ‘çš„æ„Ÿè§‰æ¯”é«˜æ•°éš¾ç†è§£,å­¦çš„å¾ˆç—›è‹¦,é¢˜ç›®æœ‰çš„ä¹Ÿå¾ˆéš¾,ä¸èƒ½æ‰ä»¥è½»å¿ƒã€‚</p><p><strong>æ¦‚ç‡è®ºé¢˜ç›®:</strong> 660æ¦‚ç‡è®ºéƒ¨åˆ† + ä½™æ–Œæ£®çš„ä¹¦é…å¥—ä¹ é¢˜(åšäº†ä¸¤é,åšæ‰å®äº†) + 880(é€‰äº†æŒæ¡ä¸å¤ªå¥½çš„éƒ¨åˆ†åš) + 330</p><p><strong>æ¨¡æ‹Ÿå·:</strong> å¼ å®‡8(æå¿ƒæ€)+4(ğŸäº†æœ‰çš„å¤§é¢˜æ²¡å†™) ææ°¸ä¹å¥—å·(åç®€å•) + ä½™æ–Œæ£®(éš¾!é€‰æ‹©é¢˜æŠŠæˆ‘å¯¹è±¡åšçš„å´©æºƒäº† å¤©å¤©è¦æ•´ç†ç¬”è®°ç»™å¥¹!) + è¶…è¶Šå·(ä»Šå¹´è´¨é‡ä¸‹é™) + ææ—6+4(å¿…åš) + æ­¦å¿ ç¥¥ä¸¤å¥—é«˜æ•°å·</p><h2 id="2-è‹±è¯­ä¸€-86åˆ†"><a href="#2-è‹±è¯­ä¸€-86åˆ†" class="headerlink" title="2. è‹±è¯­ä¸€ 86åˆ†"></a>2. è‹±è¯­ä¸€ 86åˆ†</h2><p>è‹±è¯­å››çº§549åˆ† å…­çº§ç¬¬ä¸€æ¬¡æ²¡è¿‡(å¬åŠ›å¤ªçƒ‚) ç¬¬äºŒæ¬¡449é£˜è¿‡</p><p>å‡†å¤‡å‰é—®äº†ä¸Šä¸€å±Šçš„å­¦é•¿,ç»™çš„å»ºè®®æ˜¯,è‹±è¯­ä¸€å®šè¦å¥½å¥½å­¦,ä¼šæœ‰å›æŠ¥çš„,è¿™ä¸ä»Šå¹´86åˆ†,å›æŠ¥æ¥å•¦!å½“ç„¶å¦‚æœåƒæŸäº›å˜æ€å¥³æœ‹å‹,å¤©å¤©è‹±è¯­å­¦1ä¸ªå°æ—¶å¤šä¸€ç‚¹,æœ€åä¹Ÿ85åˆ†,å½“æˆ‘æ²¡è¯´(20åˆ†é’Ÿ400ä¸ªå•è¯ æ±‚æˆ‘å¿ƒç†é˜´å½±é¢ç§¯!)</p><p><strong>å¤ä¹ æ–¹æ³•:</strong> </p><p><strong>å•è¯</strong> :</p><p>2-4æœˆæ¯å¤©60-100ä¸ªç”Ÿè¯+å¤ä¹ (ä¸èƒŒå•è¯å€¼å¾—ç”¨,åˆ«çš„è½¯ä»¶æ²¡ç”¨è¿‡ä¸åŠ è¯„ä»·)</p><p>4-6æœˆé‡å†™å¼€å•è¯æœ¬100-150ä¸ªç”Ÿè¯+å¤ä¹ </p><p>7æœˆä¹‹å,ä¸­åæœŸæ¯å¤©å°±æ˜¯å¸¦ç€èƒŒ,æ¯å¤©éƒ½è¦èƒŒ,é‚£æ€•é‚£å¤©å‡ºå»æ”¾æ¾ä¹Ÿè¦èƒŒ,å•è¯ä¸èƒ½æ–­!åæœŸå¿«çš„è¯ä¸€å¤©200ç”Ÿè¯+200å¤ä¹ çš„45åˆ†é’Ÿå°±å¤Ÿ å•¦!å•è¯ç‰¢å›ºäº†,è‹±è¯­åˆ†ä¸ä¼šå¤ªå·®!</p><p><strong>åŸºç¡€:</strong> </p><p>æˆ‘å¬äº†ç”°é™çš„è¯­æ³•è¯¾,æˆ‘çš„è¯„ä»·æ˜¯æ•ˆæœå› äººè€Œå¼‚,åŸºç¡€ç¨å¾®å¥½ä¸€ç‚¹å¯ä»¥ä¸å¬,ä¸»è¦æ˜¯ä¸ºäº†å­¦ä¼šç¿»è¯‘å¥å­,æé«˜é˜…è¯»æ°´å¹³,æ¯æ—¥ä¸€å¥çš„ç¿»è¯‘å¿…è·Ÿ!</p><p><strong>çœŸé¢˜:</strong> </p><p>æˆ‘å¤§æ¦‚4æœˆä¸­æ—¬å¼€äº†çœŸé¢˜,æ¯å¤©2-3ç¯‡é˜…è¯»ç†è§£,åšçš„å¾ˆå·®çš„æœ‰å°è¯•è¿‡ç²¾ç¿»(æ—¶é—´èŠ±è´¹å¤ªå¤§,ç¿»äº†å››äº”æ¬¡å°±ä¸ç¿»äº†),ä½†æ˜¯ä¸ä¼šçš„å•è¯è¿˜æ˜¯ä¼šåœˆå‡ºæ¥,åŠ å…¥ä¸èƒŒå•è¯çš„ç”Ÿè¯æœ¬ä»¥åå¤ä¹ ç”¨ã€‚</p><p>æš‘æœŸäºŒåˆ·äº†çœŸé¢˜çš„é˜…è¯»ç†è§£,è‹±è¯­ä¸€2010å¹´çš„çœŸçš„å¾ˆéš¾,åšä¸å¥½åˆ«ç°å¿ƒ!è¿™ä¸ªæ—¶å€™å¤§æ¦‚å°±èƒ½ä¿ä½å››ç¯‡é”™åœ¨4ä¸ªä»¥å†…äº†!å½“ç„¶å¤§ä½¬è¿™ä¸ªæ—¶å€™éƒ½åªé”™ä¸¤ä¸ªçš„ä¸”æ˜¯ä¸€åˆ·ã€‚çœŸé¢˜é˜…è¯»ç†è§£ç¡®å®å¾ˆé‡è¦,æœ‰ä¸ä¼šçš„åœ°æ–¹å¯ä»¥å»å¬å¬å”è¿Ÿè€å¸ˆçš„è¯¾è¿˜æœ‰monkeyè€å¸ˆçš„è¯¾(è™½ç„¶æœ‰çš„æ—¶å€™æˆ‘çœŸçš„å°±è§‰å¾—é¢˜ç›®æœ‰é—®é¢˜,ä¸æ˜¯æˆ‘çš„é—®é¢˜!)</p><p>æš‘æœŸå›æ¥å†²åˆºå·®ä¸å¤šè¦å¼€å§‹ä¸‰åˆ·äº†,è¿™ä¸ªæ—¶é—´å°±ä¸èƒ½åªåšé˜…è¯»ç†è§£éƒ¨åˆ†äº†,ç¿»è¯‘å¯ä»¥å¾€åé ,ä½†æ˜¯æ¯å¤©1-2ä¸ªé˜…è¯»ç†è§£çš„åŒæ—¶,ä¹Ÿè¦æŠŠæ–°é¢˜å‹æˆ–è€…å®Œå½¢å¡«ç©ºå¸¦ä¸Šäº†!æ–°é¢˜å‹æ’åºè§‰å¾—éš¾çš„è¯å¯ä»¥å¬ä¸€ä¸‹å®‹é€¸è½©è€å¸ˆçš„è¯¾(ä¸é•¿,æˆ–è®¸æœ‰å¸®åŠ©)</p><p><strong>å¼ å‰‘80ç¯‡:</strong></p><p>å…³äºå¼ å‰‘80ç¯‡,ç½‘ä¸Šè¤’è´¬ä¸ä¸€å§,åæœŸå› ä¸ºè§‰å¾—çœŸé¢˜åˆ·äº†å¤ªå¤šé,åšçš„æ—¶å€™å·²ç»æœ‰ç‚¹ç­”æ¡ˆçš„å½±å“,æ•ˆæœä¸å¥½,åå¤è€ƒè™‘,æ‹–ç€å¯¹è±¡åšäº†è¿™ä¸ªç½‘ä¸Šå¤§å®¶å¹¶ä¸æ¨èçš„é˜…è¯»ç†è§£,åšçš„æ„Ÿè§‰æ˜æ˜¾å°±æ˜¯è¯æ±‡é‡è¶…çº²,ä½†æ˜¯å¦‚æœèƒ½è¯»æ‡‚çš„è¯åšèµ·æ¥å°±ä¸æ˜¯å¾ˆéš¾,æˆ‘ä»¬æˆç»©å‡ºæ¥åçš„æ€»ç»“æ˜¯,è¿™ä¸ªä¹ é¢˜å†Œå¾ˆé€‚åˆ23è€ƒç ”çš„è‹±è¯­ä¸€,æ„Ÿè§‰æœ€å¥½ä¸€ä¸ª86åˆ†ä¸€ä¸ª85åˆ†,è€ƒè¯•é¢˜ç›®éš¾ä½†æ˜¯å‘æŒ¥ç¨³å®šæœ‰å®ƒçš„åŠŸåŠ³!åªåšçœŸé¢˜,ç¢°åˆ°éš¾çš„æ–‡ç« å¯èƒ½å°±æŠ“çäº†!</p><p><strong>ä½œæ–‡:</strong></p><p>æˆ‘å¼ºçƒˆæ¨èçŸ³é›·é¹(å°±æ˜¯çƒ§æ—¶é—´,å¸¦ç€ç»ƒ),å­¦åˆ°æœ€åä»€ä¹ˆæ¨¡æ¿å•¥çš„,éƒ½ä¸ç”¨èƒŒ,è‡ªå·±æ…¢æ…¢å°±æ€»ç»“å‡ºæ¥å±äºè‡ªå·±çš„æ¨¡æ¿äº†!å°±<strong>è·Ÿç€ç»ƒ</strong>,ä»–æ¯å¤©ä¼šå¸¦ç€ä½ å†™ä½œæ–‡,å†™ç€å†™ç€ä½ å°±æœ‰è´§äº†!</p><p>å¯¹è±¡è·Ÿçš„å‘¨æ€æˆ,å¥¹çš„å»ºè®®æ˜¯ä¸ç”¨å¬è¯¾(å¤ªå½å½å–³å–³äº†,æˆ‘å°è¯•å¬è¿‡,å¬ä¸è¿›å»),ä½†æ˜¯æœ‰çš„ä¸‡èƒ½è¯¡è¾©æ¨¡æ¿å¯ä»¥ç¨å¾®èƒŒä¸€ä¸‹!</p><p>æœ€å,å¯¹è±¡è‹±è¯­å¥½çš„è¯æˆ–è€…ä¸€èµ·å¤‡è€ƒçš„å°ä¼™ä¼´è‹±è¯­å¥½çš„è¯,å¯ä»¥éº»çƒ¦å¥¹å¸®å¿™æ”¹ä¸€ä¸‹è‹±è¯­ä½œæ–‡,å®åœ¨ä¸å†™å¾®è½¯çˆ±å†™ä½œçš„å°ç¨‹åºç”¨èµ·æ¥!è‡³å°‘å¯ä»¥å‘ç°è¯­æ³•é”™è¯¯ã€‚</p><h2 id="3-æ”¿æ²»-73åˆ†"><a href="#3-æ”¿æ²»-73åˆ†" class="headerlink" title="3. æ”¿æ²» 73åˆ†"></a>3. æ”¿æ²» 73åˆ†</h2><p><strong>å¼ºåŒ–:</strong></p><p>8æœˆä»½å¼€å§‹å¼€åˆšåˆšå¥½,æ²¡æœ‰åŸºç¡€ç›´æ¥è·Ÿå¾æ¶›çš„å¼ºåŒ–ç­,å¸¦ç€å¬,å­¦ç´¯äº†å°±å¬,ç”šè‡³å¯ä»¥åƒé¥­æ—¶å€™å¬</p><p>å¤ä¹ è·¯çº¿å¤§è‡´ é©¬åŸç†â€“&gt;å²çº²â€“&gt;æ¯›ä¸­ç‰¹â€“&gt;æ€ä¿®â€“&gt;å½“ä»£</p><p>æˆ‘å­¦ä¹ çš„æ—¶å€™,é©¬åŸéƒ¨åˆ†è®°äº†ç¬”è®°æœ¬,ä½†æ˜¯æ„Ÿè§‰ä½œç”¨ä¸å¤§,å¯ä»¥é€‰æ‹©ç›´æ¥åœ¨ä¹¦ä¸Šåš,ç„¶åä¸€äº›æ€»ç»“å¯ä»¥è‡ªå·±åšä¸€ä¸‹ç¡®å®æœ‰åŠ©äºå¼ºåŒ–è®°å¿†</p><p>æ¯”å¦‚ä¼šè®®çš„æ€»ç»“</p><p>æ¯å­¦å®Œä¸€ç« å°±å¯ä»¥åšä¸€ä¸‹è‚–ç§€è£ä¸€ç« çš„1000é¢˜,u1s1,å­¦æ”¿æ²»æ˜¯è€ƒç ”æœŸé—´æœ€æ”¾æ¾çš„æ—¶æœŸäº†(å‡ºå»æŒ‰æ‘©é™¤å¤–)!</p><p><strong>è…¿å§æŠ€å·§ç­:</strong></p><p>è…¿å§æŠ€å·§ç­å¼€å§‹å°±å¯ä»¥å¬è¯¾äº†,ä¸»è¦æ˜¯å¬å¥¹çš„é¢˜ç›®æ€»ç»“,é€‰æ‹©é¢˜çš„æŠ€å·§è‚¯å®šæ˜¯è¦å¬çš„,ä½†æ˜¯ä¸èƒ½å…¨ä¿¡,23å±Šè€ƒç ”å¦‚æœä¿¡äº†æŠ€å·§å°±æ ½è·Ÿå¤´äº†,ç»¼åˆæˆ‘ä»¬å®¿èˆäº”äººè€ƒç ”ä¸€ä¸ªä¸Šå²¸å—é‚® å››ä¸ªä¸œå—çš„æ„è§,æŠ€å·§ç­æ˜¯æ”¾æ¾æ—¶å€™å¬çš„,ä¸»è¦è¿˜æ˜¯è®°å†²åˆºèƒŒè¯µæ‰‹å†Œ,æŠ€å·§ä¹Ÿå°±å›¾ä¸€ä¹,æ‹¿åˆ†è¿˜æ˜¯é èƒŒ!</p><p>ç›¸æ¯”ä¸é€‰æ‹©é¢˜çš„æŠ€å·§,ä¸ªäººè§‰å¾—è…¿å§æœ€æ‹¿å¾—å‡ºæ‰‹çš„å…¶å®æ˜¯<strong>ç‚¹é»˜æç­”é¢˜æ³•</strong>,ä¸ªäººæ„Ÿè§‰å¤§é¢˜ä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªå¥—è·¯ç­”é¢˜è¿˜æ˜¯å¯¹è‡ªå·±çš„åˆ†æ•°æœ‰æ‰€æé«˜çš„!</p><p><strong>èƒŒä¹¦å’Œé¢˜ç›®:</strong></p><p><strong>è…¿å§èƒŒè¯µæ‰‹å†Œ:</strong></p><p>é€‰æ‹©é¢˜ä»Šå¹´å¯èƒ½ç¿»è½¦,è¢«åæŠ¼é¢˜äº†,ä½†æ˜¯ä¾ç„¶è¦å¤šè¯»,äº‰å–æœ‰ä¸ªå½±å“,è€ƒè¯•è€ƒåˆ°å°±æ˜¯åˆ†</p><p>11æœˆä»½å°±è¦å¼€å§‹æŠŠåé¢çš„é€‰æ‹©é¢˜é‡ç‚¹è€ƒç‚¹æ”¾å…¥èƒŒè¯µçš„è®¡åˆ’ä¸­æ¯å¤©å°½é‡å¤šèƒŒä¸€ç‚¹,ç„¶åå°±æ˜¯é©¬åŸç†ä¸€å®šè¦å¥½å¥½èƒŒ!è¿™ä¸ªå¿…è€ƒçš„24ä¸ªéƒ½èƒŒä¸ä¸ºè¿‡!</p><p><strong>è‚–ç§€è£:</strong></p><p>11æœˆä»½è‚–å…«å‘è´§,å°±å¼€å§‹æ ¹æ®è‚–è€å¸ˆçš„é€‰æ‹©é¢˜é’ˆå¯¹èƒŒè¯µä¸€äº›æ—¶æ”¿,é€‰æ‹©é¢˜å¥½å¥½åš,30+çš„åˆ†ä¸è¦ç°å¿ƒå¾ˆæ­£å¸¸,åšå®Œå°±èƒŒã€‚ç®€ç­”é¢˜å¯ä»¥å…ˆçœ‹çœ‹ä¸å†™,é©¬åŸéƒ¨åˆ†å¯ä»¥å°è¯•å†™å†™ã€‚è¿™ä¸ªå¯ä»¥çœ‹çœ‹ç½‘ä¸Šåšä¸»çš„å»ºè®®,æ”¿æ²»æ—¶é—´å¾ˆæ¾,è€Œä¸”åæœŸç¡®å®æœ‰å¤§éƒ¨åˆ†æ—¶é—´éƒ½èŠ±åœ¨æ”¿æ²»ä¸Šã€‚</p><p>è‚–è€å¸ˆä»Šå¹´å‘æŒ¥è¿˜è¡Œ,å°±æ˜¯å‹çš„éƒ½åœ¨åé¢è‚–ä¸‰è‚–å››ä¸¤ä¸ªè¯•å·ä¸Šäº†,æ‰€ä»¥12æœˆä»½å¼€å§‹,è‚–å››ä¸€å®šå°±è¦å¼€å§‹èƒŒå•Š!!!ä¸è¦æ‹–,ä¸è¦è¯´åé¢æŠ½ä¸€å¤©èƒŒ,ä½ ä¸çŸ¥é“åé¢ä¼šå‘ç”Ÿä»€ä¹ˆ!æˆ‘ğŸäº†,è‚–ä¸‰è‚–å››æ²¡èƒŒå®Œ,åœ¨å®¾é¦†çš„åºŠä¸ŠèƒŒä¸åŠ¨,çœŸçš„åæ‚”!</p><p>æœ€åçš„ä¸€ç‚¹å»ºè®®æ˜¯: æœ‰ä¸ªå¾®åšåšä¸»å«è¥¿è¥¿çˆ±æ”¿æ²» ä¼šæ€»ç»“æ”¿æ²»èƒŒçš„ä¸œè¥¿,å¯ä»¥çœ‹çœ‹!</p><h2 id="4-ä¸“ä¸šè¯¾-130"><a href="#4-ä¸“ä¸šè¯¾-130" class="headerlink" title="4. ä¸“ä¸šè¯¾ 130"></a>4. ä¸“ä¸šè¯¾ 130</h2><p><strong>è®¡ç½‘:</strong></p><p>å‰æœŸ:</p><p>æœ¬äººä¸€ç›´åœ¨çº¿,æ­£å¸¸å¤ä¹ ,å‰æœŸç‹é“è§†é¢‘è¯¾æˆ–è€…æ¹–ç§‘å¤§è§†é¢‘è¯¾(æœ‰æ—¶é—´çš„ä¸¤ä¸ªéƒ½çœ‹),é‡ç‚¹è¿˜æ˜¯ç½‘ç»œå±‚ä¼ è¾“å±‚çš„çŸ¥è¯†,å…¶ä½™çš„å¤§å¤šæ•°æ˜¯èƒŒè¯µèƒ½åŠ›</p><p>ä¸­åæœŸ:</p><p>é‡å¤çš„çœ‹è°¢ä¹¦,å¯èƒ½å®Œå®Œæ•´æ•´çœ‹äº†æœ‰3-4éå§,è¿‡ç¨‹å¾ˆæ¯ç‡¥,ä½†æ˜¯çœŸçš„å¾ˆæœ‰ç”¨,è‡ªå·±å»å°è¯•æ•´ç†çŸ¥è¯†ç‚¹,å¯ä»¥ç”¨markdownè¿™äº›è®°ç¬”è®°,æ…¢æ…¢è„‘å­é‡Œæœ‰ä½“ç³»,å­¦èµ·æ¥å°±è½»æ¾äº†ã€‚ç„¶åå°±æ˜¯çœ‹ä¹¦çš„æ—¶å€™,ä¹Ÿè¦å†™é¢˜,ä¸ç„¶å¾ˆä¹…ä¸å†™,çªç„¶å†™é€‰æ‹©çœŸçš„æŒºç—›è‹¦çš„ã€‚</p><p>é¢˜ç›®: ç‹é“è®¡ç®—æœºç½‘ç»œè€ƒç ”å¤ä¹ æŒ‡å¯¼(3åˆ·) + è€ƒç ”èµ„æ–™ç¾¤çš„èµ„æ–™ + è‡ªå·±æ‰¾çš„è®¡ç½‘ä¹ é¢˜ + å¤©å‹¤è®¡ç®—æœºç½‘ç»œä¹ é¢˜ + ç‹é“è®¡ç®—æœºè€ƒè¯•é…å¥—ä¹ é¢˜(è®¡ç½‘éƒ¨åˆ†)</p><p><strong>æ•°æ®ç»“æ„:</strong></p><p>å‰æœŸ:</p><p>ç‹é“æ•°æ®ç»“æ„è§†é¢‘è¯¾(è¿™é‡Œæ¨èä½¿ç”¨ACFUN,æˆ‘å½“æ—¶æ˜¯æœ‰æ–°çš„è§†é¢‘è¯¾çš„),å‰æœŸæ²¡æœ‰æ‰£ä»£ç ,é‡ç‚¹è¿˜æ˜¯æ¦‚å¿µçš„ç†è§£,æŠ“ä½é€‰æ‹©é¢˜å’Œç®€ç­”é¢˜çš„åˆ†</p><p>ä¸­æœŸ:</p><p>æˆ‘æ²¡æœ‰é€‰æ‹©ç»§ç»­å¬è¯¾,æ•°æ®ç»“æ„æ²¡æœ‰èŠ±å¾ˆé•¿æ—¶é—´,åé¢å¤§æ¦‚æ¯å¤©3ä¸ªå°æ—¶ä¸“ä¸šè¯¾,å„1ä¸ªåŠå°æ—¶,åšåšé€‰æ‹©å’Œç®€ç­”é¢˜ã€‚ç„¶ååˆ°11æœˆä»½å¼€å§‹æ­»æ‰£ä»£ç é¢˜,ä¸€å¤©2-3é¢˜(è™½ç„¶æœ€åæ²¡è€ƒ)ã€‚ä½†æ˜¯ä»Šå¹´è€ƒäº†è¯»ç¨‹é¢˜,æ„Ÿè§‰24è€ƒç ”è€ƒä»£ç é¢˜çš„æ¦‚ç‡è¿˜æ˜¯å¾ˆå¤§çš„,å¯ä»¥ä¹°ä¸ªç½—æŠ€k580è‡ªå·±åœ¨å¹³æ¿ä¸Šé…ä¸ªç¯å¢ƒæ•²!</p><p>é¢˜ç›®: ç‹é“æ•°æ®ç»“æ„è€ƒç ”å¤ä¹ æŒ‡å¯¼(3åˆ·) + è€ƒç ”èµ„æ–™ç¾¤çš„èµ„æ–™ +  å¤©å‹¤æ•°æ®ç»“æ„ä¹ é¢˜ + ç‹é“è®¡ç®—æœºè€ƒè¯•é…å¥—ä¹ é¢˜(æ•°æ®ç»“æ„éƒ¨åˆ†)</p><h2 id="5-å…³äºå­¦ä¹ å’Œæ‹çˆ±"><a href="#5-å…³äºå­¦ä¹ å’Œæ‹çˆ±" class="headerlink" title="5. å…³äºå­¦ä¹ å’Œæ‹çˆ±"></a>5. å…³äºå­¦ä¹ å’Œæ‹çˆ±</h2><p>è€ƒç ”æœŸé—´è°ˆæ‹çˆ±çš„ç¡®ä¼šåˆ†æ•£ä¸€éƒ¨åˆ†å­¦ä¹ çš„æ—¶é—´(æˆ‘ä»¬ä¸¤ä¸ªè¿˜å¥½,éƒ½æ¯”è¾ƒæ„¿æ„ä¸€èµ·å»è‡ªä¹ å®¤å­¦ä¹ ,æ²¡æœ‰èŠ±è´¹å¤ªé•¿çš„æ—¶é—´),ä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—æ‹çˆ±å’Œè€ƒç ”ä¸ç®—å†²çª,åœ¨è€ƒç ”æœŸé—´çš„ç”Ÿæ´»ç¡®å®æ¯”è¾ƒæ¯ç‡¥,æˆ‘ä¼šé€‰æ‹©åƒå®Œé¥­å’Œå¥³æœ‹å‹ä¸€èµ·æ•£æ­¥ç¼“è§£å‹åŠ›(å‡†ç¡®çš„è¯´ä¸¤ä¸ªäººé€ƒé¿è€ƒç ”æ•™å®¤å‹æŠ‘çš„æ°›å›´),ä¹Ÿä¼šçªç„¶å†³å®šæ‘†çƒ‚ä¸€å¤©æŒ‰ä¸ªæ‘©(ä¸å¯ä»¥å¤š,å¶å°”å¶å°”å•Š!),å½“ç„¶æœ€å¥½çš„åœ°æ–¹å°±æ˜¯æ¯å¤©åƒé¥­å•¥çš„,éƒ½æœ‰ä¸€ä¸ªäººé™ªåœ¨èº«è¾¹,ä¸€èµ·è®¨è®ºå­¦ä¹ ä¸Šçš„äº‹æƒ…ä¹Ÿå¾ˆæœ‰æ„æ€,æ¯”å¦‚å› ä¸ºä¸€é“æ•°å­¦é¢˜å·®ç‚¹åµäº†èµ·æ¥!è¿˜æœ‰,æœ€åå¤§å®¶éƒ½ğŸäº†,ä¹Ÿæ˜¯äº’ç›¸æ”¯æ’‘è¿™å½¼æ­¤åº¦è¿‡è¿™æ®µè›®æœ‰æ„ä¹‰çš„æ—¶å…‰ã€‚</p><p>å½“ç„¶æœ‰åˆ©å¿…ç„¶æœ‰å¼Š,è€ƒç ”æœŸé—´å¤§å®¶çš„å‹åŠ›éƒ½å¾ˆå¤§,ä¹Ÿä¼šå› ä¸ºå¿ƒæƒ…ä¸Šçš„ä½è½,åœ¨ä¸€äº›å°äº‹æƒ…ä¸Šçˆ†å‘äº‰ç«¯,ç”šè‡³emmmå·®ç‚¹å·®ç‚¹æ‡‚å¾—éƒ½æ‡‚,ä½†æ˜¯æˆ‘è§‰å¾—å¦‚æœèƒ½å¤Ÿä¸¤ä¸ªäººäº’ç›¸å¸®åŠ©,æˆ‘æ•™ä½ æ•°å­¦,ä½ å¸®æˆ‘è¡¥è‹±è¯­,é‚£ä¹ˆä¸¤ä¸ªäººä¸€èµ·ä¸Šå²¸æ‰æ˜¯æœ€å¸…çš„å¥½å§!</p><h1 id="ä¸‰-å¤è¯•å‡†å¤‡"><a href="#ä¸‰-å¤è¯•å‡†å¤‡" class="headerlink" title="ä¸‰. å¤è¯•å‡†å¤‡"></a>ä¸‰. å¤è¯•å‡†å¤‡</h1><p>ç­‰æ‹Ÿå½•å–å‡ºæ¥å†æ›´æ–°..</p>]]></content>
      
      
      <categories>
          
          <category> æˆé•¿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆé•¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›C++å°è®°</title>
      <link href="/2023/03/22/c++/"/>
      <url>/2023/03/22/c++/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€-æ’åºæ¨¡æ¿"><a href="#ä¸€-æ’åºæ¨¡æ¿" class="headerlink" title="ä¸€ æ’åºæ¨¡æ¿"></a>ä¸€ æ’åºæ¨¡æ¿</h1><h2 id="1-ç›´æ¥æ’å…¥æ’åº"><a href="#1-ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="1. ç›´æ¥æ’å…¥æ’åº"></a>1. ç›´æ¥æ’å…¥æ’åº</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertSort</span><span class="params">(T arr[],<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">T temp;    <span class="comment">// ä¸´æ—¶å­˜æ”¾Tç±»å‹å˜é‡</span></span><br><span class="line"><span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">temp = arr[i];</span><br><span class="line"><span class="keyword">while</span> (arr[j] &lt; temp &amp;&amp; j &lt; i) &#123;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> k = i; k &gt;= j; k--) &#123;</span><br><span class="line">arr[k] = arr[k<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">arr[j] = temp;</span><br><span class="line"><span class="built_in">output</span>(arr,n );</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ç›´æ¥é€‰æ‹©æ’åº"><a href="#2-ç›´æ¥é€‰æ‹©æ’åº" class="headerlink" title="2. ç›´æ¥é€‰æ‹©æ’åº"></a>2. ç›´æ¥é€‰æ‹©æ’åº</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectionSort</span><span class="params">(T arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++) &#123;</span><br><span class="line"><span class="type">int</span> minIndex = i;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; n; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;</span><br><span class="line">minIndex = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">T temp = arr[minIndex];</span><br><span class="line">arr[minIndex] = arr[i];</span><br><span class="line">arr[i] = temp;</span><br><span class="line"><span class="built_in">output</span>(arr, n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ°”æ³¡æ’åº"><a href="#3-æ°”æ³¡æ’åº" class="headerlink" title="3. æ°”æ³¡æ’åº"></a>3. æ°”æ³¡æ’åº</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(T *a,T *b)</span> </span>&#123;</span><br><span class="line">T temp = *a;</span><br><span class="line">*a = *b;</span><br><span class="line">*b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubbleSort</span><span class="params">(T arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n <span class="number">-1</span> - i; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line"><span class="built_in">swap</span>(&amp;arr[j], &amp;arr[j + <span class="number">1</span>]);</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">output</span>(arr, n);</span><br><span class="line"><span class="keyword">if</span> (!flag) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äºŒ-æŸ¥æ‰¾æ¨¡æ¿"><a href="#äºŒ-æŸ¥æ‰¾æ¨¡æ¿" class="headerlink" title="äºŒ æŸ¥æ‰¾æ¨¡æ¿"></a>äºŒ æŸ¥æ‰¾æ¨¡æ¿</h1><h2 id="1-é¡ºåºæŸ¥æ‰¾"><a href="#1-é¡ºåºæŸ¥æ‰¾" class="headerlink" title="1. é¡ºåºæŸ¥æ‰¾"></a>1. é¡ºåºæŸ¥æ‰¾</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">seqSearch</span><span class="params">(<span class="type">const</span> T list[], <span class="type">int</span> n, <span class="type">const</span> T &amp;key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (list[i] == key)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-æŠ˜åŠæŸ¥æ‰¾"><a href="#2-æŠ˜åŠæŸ¥æ‰¾" class="headerlink" title="2. æŠ˜åŠæŸ¥æ‰¾"></a>2. æŠ˜åŠæŸ¥æ‰¾</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">binSearch</span><span class="params">(<span class="type">const</span> T list[],<span class="type">int</span> min ,<span class="type">int</span> max, <span class="type">const</span> T &amp;key)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (min &gt; max) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> mid = (min + max) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (list[mid] == key) &#123;</span><br><span class="line"><span class="keyword">return</span> mid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (list[mid] &gt; key) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">binSearch</span>(list, min, mid - <span class="number">1</span>,key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">binSearch</span>(list, mid + <span class="number">1</span>, max, key);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">binSearch_2</span><span class="params">(<span class="type">const</span> T list[], <span class="type">int</span> n, <span class="type">const</span> T &amp;key)</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> low = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> high = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line"><span class="type">int</span> mid = (low + high) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (list[mid] == key) &#123;</span><br><span class="line"><span class="keyword">return</span> mid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (list[mid] &lt; key)</span><br><span class="line">low = mid + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">high = mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¬¬å…­ç« "><a href="#ç¬¬å…­ç« " class="headerlink" title="ç¬¬å…­ç« "></a>ç¬¬å…­ç« </h1><ol><li>6-21è¯»å–å­—ç¬¦ä¸²ç»Ÿè®¡è‹±æ–‡å­—æ¯ä¸ªæ•°</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">&quot;C:/Users/lenovo/Desktop/abc.txt&quot;</span>,ios_base::binary | ios_base::in)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">os</span><span class="params">(<span class="string">&quot;C:/Users/lenovo/Desktop/abc.txt&quot;</span>, ios_base::binary | ios_base::out)</span></span>;</span><br><span class="line">string str;</span><br><span class="line"><span class="built_in">getline</span>(cin, str);</span><br><span class="line">os &lt;&lt; str;</span><br><span class="line">os.<span class="built_in">close</span>();</span><br><span class="line">string get_s;</span><br><span class="line"><span class="built_in">getline</span>(in,get_s);</span><br><span class="line">in.<span class="built_in">close</span>();</span><br><span class="line">cout &lt;&lt; get_s;</span><br><span class="line"><span class="type">char</span> *c = &amp;get_s[<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (*c) &#123;</span><br><span class="line"><span class="keyword">if</span> ((*c &gt;= <span class="string">&#x27;A&#x27;</span>) &amp;&amp; (*c &lt;= <span class="string">&#x27;z&#x27;</span>)) &#123;</span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">c++;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;count: &quot;</span>&lt;&lt; count;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>6-22 å­—ç¬¦ä¸²é€’å½’é€†ç½®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(string &amp;s,<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> a = <span class="number">0</span>;             <span class="comment">//é‡è¦</span></span><br><span class="line"><span class="keyword">if</span> (n / <span class="number">2</span> &lt;= a ) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="type">char</span> temp = s[a];</span><br><span class="line">s[a] = s[n - a <span class="number">-1</span>];</span><br><span class="line">s[n -a <span class="number">-1</span>] = temp;</span><br><span class="line">a++;</span><br><span class="line"><span class="built_in">reverse</span>(s,n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string a = <span class="string">&quot;12345&quot;</span>;</span><br><span class="line"><span class="built_in">reverse</span>(a, a.<span class="built_in">length</span>());</span><br><span class="line">cout &lt;&lt; a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>6-26  çŸ©é˜µè½¬ç½®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> row;</span><br><span class="line"><span class="type">int</span> arrange;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">(<span class="type">int</span> *p,<span class="type">int</span> row, <span class="type">int</span> arrange)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; arrange; j++) &#123;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">4</span>)&lt;&lt; p[i*arrange + j];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">transfom</span><span class="params">(<span class="type">int</span> *p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; arrange; j++) &#123;</span><br><span class="line"><span class="type">int</span> temp = p[i*row + j];</span><br><span class="line">p[i*row + j] = p[j*arrange + i];</span><br><span class="line">p[j*arrange + i] = temp;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è¾“å…¥è¡Œå’Œåˆ—&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; row &gt;&gt; arrange;</span><br><span class="line"><span class="type">int</span>  *matrxi = <span class="keyword">new</span> <span class="type">int</span>[row * arrange];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; arrange; j++) &#123;</span><br><span class="line">matrxi[i*arrange + j] = <span class="built_in">rand</span>()%<span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">output</span>(matrxi,row,arrange);</span><br><span class="line"><span class="built_in">transfom</span>(matrxi);</span><br><span class="line"><span class="built_in">output</span>(matrxi, arrange, row);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åŸºäºchar*è®¾è®¡ä¸€ä¸ªå­—ç¬¦ä¸²ç±»<code>Mystring</code>,å¹¶ä¸”å…·æœ‰æ„é€ å‡½æ•°,ææ„å‡½æ•°,èµ‹å€¼æ„é€ å‡½æ•°,é‡è½½è¿ç®—ç¬¦ç­‰</p></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyString</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">char</span> *data;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">short</span> len;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">MyString</span>();</span><br><span class="line"><span class="built_in">MyString</span>(<span class="type">unsigned</span> <span class="type">short</span>);</span><br><span class="line"><span class="built_in">MyString</span>(<span class="type">const</span> <span class="type">char</span> *s);</span><br><span class="line"><span class="built_in">MyString</span>(<span class="type">const</span> MyString &amp;s);</span><br><span class="line">~<span class="built_in">MyString</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">unsigned</span> <span class="type">short</span> <span class="title">getLen</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> len; &#125;   <span class="comment">//è¿”å›é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">getString</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">MyString&amp;  <span class="keyword">operator</span> +(<span class="type">const</span> MyString &amp;rhs);</span><br><span class="line">MyString&amp;  <span class="keyword">operator</span>=(<span class="type">const</span> MyString &amp;rhs);</span><br><span class="line"><span class="type">char</span> <span class="keyword">operator</span>[] (<span class="type">unsigned</span> <span class="type">short</span> offset) <span class="type">const</span>;</span><br><span class="line"><span class="type">char</span>&amp; <span class="keyword">operator</span> [](<span class="type">unsigned</span> <span class="type">short</span> offset);</span><br><span class="line">&#125;;</span><br><span class="line">MyString::<span class="built_in">MyString</span>() &#123;</span><br><span class="line">len = <span class="number">0</span>;</span><br><span class="line">data = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">1</span>];</span><br><span class="line">data[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">MyString::<span class="built_in">MyString</span>(<span class="type">unsigned</span> <span class="type">short</span> len) &#123;</span><br><span class="line">data = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= len; i++) &#123;</span><br><span class="line">data[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;len = len;</span><br><span class="line">&#125;</span><br><span class="line">MyString::<span class="built_in">MyString</span>(<span class="type">const</span> <span class="type">char</span> *s) &#123;</span><br><span class="line">len = (<span class="type">int</span>)<span class="built_in">strlen</span>(s);</span><br><span class="line">data = <span class="keyword">new</span> <span class="type">char</span>[len];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">data[i] = s[i];</span><br><span class="line">&#125;</span><br><span class="line">data[len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">MyString::<span class="built_in">MyString</span>(<span class="type">const</span> MyString &amp;s) &#123;</span><br><span class="line">len = s.<span class="built_in">getLen</span>();</span><br><span class="line">data = <span class="keyword">new</span> <span class="type">char</span>[len];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">data[i] = s[i];</span><br><span class="line">&#125;</span><br><span class="line">data[len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">MyString::~<span class="built_in">MyString</span>() &#123;</span><br><span class="line"><span class="keyword">delete</span>[] data;</span><br><span class="line">len = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> MyString::<span class="keyword">operator</span>[](<span class="type">unsigned</span> <span class="type">short</span> offset) <span class="type">const</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (offset &gt; len) &#123;</span><br><span class="line"><span class="keyword">return</span> data[len - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> data[offset];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span>&amp; MyString::<span class="keyword">operator</span> [](<span class="type">unsigned</span> <span class="type">short</span> offset) &#123;</span><br><span class="line"><span class="keyword">if</span> (offset &gt; len) &#123;</span><br><span class="line"><span class="keyword">return</span> data[len - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> data[offset];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">MyString&amp; MyString::<span class="keyword">operator</span>+(<span class="type">const</span> MyString &amp;rhs) &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">short</span> totalLen = len + rhs.<span class="built_in">getLen</span>();</span><br><span class="line"><span class="function">MyString <span class="title">temp</span><span class="params">(totalLen)</span></span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i; i &lt; len; i++) &#123;</span><br><span class="line">temp[i] = data[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; rhs.<span class="built_in">getLen</span>(); j++, i++) &#123;</span><br><span class="line">temp[i] = rhs[j];</span><br><span class="line">&#125;</span><br><span class="line">temp[totalLen] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line">MyString&amp; MyString::<span class="keyword">operator</span>=(<span class="type">const</span> MyString &amp;rhs) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> == &amp;rhs) &#123;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] data;</span><br><span class="line">len = rhs.<span class="built_in">getLen</span>();</span><br><span class="line">data = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">short</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">data[i] = rhs[i];</span><br><span class="line">&#125;</span><br><span class="line">data[len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">MyString <span class="title">s1</span><span class="params">(<span class="string">&quot;SEU!&quot;</span>)</span></span>;</span><br><span class="line">MyString s2;</span><br><span class="line">s2 = <span class="string">&quot;ilike&quot;</span>;</span><br><span class="line">MyString s3 = s2 + s1;</span><br><span class="line">cout &lt;&lt; s3.<span class="built_in">getString</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¬¬å…«ç« "><a href="#ç¬¬å…«ç« " class="headerlink" title="ç¬¬å…«ç« "></a>ç¬¬å…«ç« </h1><ol><li>æ—¶é’Ÿç±»é‡è½½</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è®¾è®¡ä¸€ä¸ªæ—¶é’Ÿç±»ï¼Œèƒ½å¤Ÿè®°å½•æ—¶ã€åˆ†ã€ç§’ï¼Œé‡è½½å®ƒçš„++è¿ç®—ç¬¦ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡++è¿ç®—ï¼ŒåŠ æ—¶1ç§’ï¼Œä½†è¦ä½¿è®¡æ—¶è¿‡ç¨‹èƒ½å¤Ÿè‡ªåŠ¨è¿›ä½ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Time</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Time</span>(<span class="type">int</span> h = <span class="number">0</span>, <span class="type">int</span> m = <span class="number">0</span>, <span class="type">int</span> s = <span class="number">0</span>) &#123;</span><br><span class="line">hour = h;</span><br><span class="line">minute = m;</span><br><span class="line">second = s;</span><br><span class="line">&#125;</span><br><span class="line">Time&amp; <span class="keyword">operator</span>++();</span><br><span class="line">Time <span class="keyword">operator</span>++(<span class="type">int</span>);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å½“å‰æ—¶é—´ä¸ºï¼š&quot;</span> &lt;&lt; hour &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; minute &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> hour, minute, second;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">Time Time::<span class="keyword">operator</span>++(<span class="type">int</span>) &#123;</span><br><span class="line">Time tmp = *<span class="keyword">this</span>;</span><br><span class="line">++(*<span class="keyword">this</span>);</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Time&amp; Time::<span class="keyword">operator</span>++() &#123;</span><br><span class="line">++second;</span><br><span class="line"><span class="keyword">if</span> (second == <span class="number">60</span>) &#123;</span><br><span class="line">second = <span class="number">0</span>;</span><br><span class="line">++minute;</span><br><span class="line"><span class="keyword">if</span> (minute == <span class="number">60</span>) &#123;</span><br><span class="line">minute = <span class="number">0</span>;</span><br><span class="line">hour++;</span><br><span class="line"><span class="keyword">if</span> (hour == <span class="number">24</span>) &#123;</span><br><span class="line">hour = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Time <span class="title">t</span><span class="params">(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span></span>;</span><br><span class="line">t.<span class="built_in">showTime</span>();</span><br><span class="line">(t++).<span class="built_in">showTime</span>();</span><br><span class="line">(++t).<span class="built_in">showTime</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>é‡è½½complexç±» <code>&lt;&lt;</code></p><ul><li><p>&lt;&lt;å·¦æ“ä½œæ•°ä¸º<code>ostream</code>ç±»å‹çš„å¼•ç”¨,<code>ostream</code>æ˜¯<code>cout</code>çš„åŸºç±»æ‰§è¡Œ</p><p><code>cout&lt;&lt;c1</code>â€”â€”-&gt;<code>operator&lt;&lt;(cout,c1)</code></p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Complex</span>() &#123; real = <span class="number">0</span>; imag = <span class="number">0</span>; &#125;</span><br><span class="line"><span class="built_in">Complex</span>(<span class="type">double</span> r, <span class="type">double</span> i) :<span class="built_in">real</span>(r), <span class="built_in">imag</span>(i) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">Complex <span class="keyword">operator</span> + (Complex &amp;c);</span><br><span class="line">Complex <span class="keyword">operator</span> + (<span class="type">int</span> &amp;i); </span><br><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span> + (<span class="type">int</span> &amp;, Complex &amp;); <span class="comment">// i + c</span></span><br><span class="line"><span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp;out, <span class="type">const</span> Complex &amp;c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> real; <span class="comment">// å¤æ•°å®éƒ¨</span></span><br><span class="line"><span class="type">double</span> imag; <span class="comment">// å¤æ•°è™šéƒ¨</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Complex Complex::<span class="keyword">operator</span> + (Complex &amp;c)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Complex operator + (Complex &amp;c)&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Complex</span>(real + c.real, imag + c.imag);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex Complex::<span class="keyword">operator</span> + (<span class="type">int</span> &amp;i)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Complex operator + (int &amp;i)&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Complex</span>(real + i, imag);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex <span class="keyword">operator</span> + (<span class="type">int</span> &amp;i, Complex &amp;c)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Complex operator + (int &amp;i, Complex &amp;c)&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Complex</span>(i + c.real, c.imag);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Complex::display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; real &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; imag &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">ostream &amp; <span class="keyword">operator</span> &lt;&lt;(ostream &amp;out, <span class="type">const</span> Complex &amp;c) &#123;</span><br><span class="line">out &lt;&lt; c.real &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; c.imag &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Complex <span class="title">c1</span><span class="params">(<span class="number">5</span>, <span class="number">-2</span>)</span>, <span class="title">c2</span><span class="params">(<span class="number">-4</span>, <span class="number">3</span>)</span>, c3</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">6</span>;</span><br><span class="line">c3 = c1 + i;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;c1 + i = &quot;</span>;</span><br><span class="line">c3.<span class="built_in">display</span>();</span><br><span class="line">c3 = i + c1;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;i + c1 = &quot;</span>;</span><br><span class="line">c3.<span class="built_in">display</span>();</span><br><span class="line">c3 = c1 + c2;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; c1 + c2 = &quot;</span>;</span><br><span class="line">cout &lt;&lt; c3;</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>ä¾‹é¢˜8-4 é‡å†™<code>&lt;&lt;</code>å’Œ<code>+</code> <code>å‰++</code>å’Œ<code>å++</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Counter</span>() :<span class="built_in">count</span>(<span class="number">0</span>) &#123;  &#125;</span><br><span class="line"><span class="built_in">Counter</span>(<span class="type">int</span> num):<span class="built_in">count</span>(num) &#123;  &#125;</span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span> &lt;&lt;(ostream &amp;out, <span class="type">const</span> Counter &amp;c);</span><br><span class="line">Counter <span class="keyword">operator</span> +(<span class="type">int</span> num);</span><br><span class="line">Counter <span class="keyword">operator</span> ++();<span class="comment">//å‰ç½®++</span></span><br><span class="line">Counter <span class="keyword">operator</span> ++(<span class="type">int</span>); <span class="comment">//åç½®++</span></span><br><span class="line">&#125;;</span><br><span class="line">Counter Counter::<span class="keyword">operator</span>+(<span class="type">int</span> num)&#123;</span><br><span class="line">count += num;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span> &lt;&lt;(ostream &amp;out, <span class="type">const</span> Counter &amp;c) &#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot;Count: &quot;</span> &lt;&lt; c.count &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line">Counter Counter::<span class="keyword">operator</span>++() &#123;</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Counter Counter::<span class="keyword">operator</span>++(<span class="type">int</span>)&#123;</span><br><span class="line">Counter old = *<span class="keyword">this</span>;</span><br><span class="line">++(*<span class="keyword">this</span>);</span><br><span class="line"><span class="keyword">return</span> old;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">Counter <span class="title">c1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">c1 = c1 + <span class="number">5</span>;</span><br><span class="line">cout &lt;&lt; c1 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; c1++ &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; ++c1 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="2010"><a href="#2010" class="headerlink" title="2010"></a>2010</h1><h2 id="1-è¾“å…¥nä¸ªåè¿›åˆ¶æ•°è½¬æ¢æˆäºŒè¿›åˆ¶å†™åˆ°æ–‡ä»¶"><a href="#1-è¾“å…¥nä¸ªåè¿›åˆ¶æ•°è½¬æ¢æˆäºŒè¿›åˆ¶å†™åˆ°æ–‡ä»¶" class="headerlink" title="1. è¾“å…¥nä¸ªåè¿›åˆ¶æ•°è½¬æ¢æˆäºŒè¿›åˆ¶å†™åˆ°æ–‡ä»¶"></a>1. è¾“å…¥nä¸ªåè¿›åˆ¶æ•°è½¬æ¢æˆäºŒè¿›åˆ¶å†™åˆ°æ–‡ä»¶</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">toBinary</span><span class="params">(<span class="type">int</span> d)</span> </span>&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">if</span> (d == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (d) &#123;</span><br><span class="line">s += (d % <span class="number">2</span>) ? <span class="string">&quot;1&quot;</span> : <span class="string">&quot;0&quot;</span>;</span><br><span class="line">d /= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">ofstream <span class="title">os</span><span class="params">(<span class="string">&quot;C:/Users/lenovo/Desktop/te.txt&quot;</span>, ios::binary | ios::out)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (!os) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;File cannot be opened!&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Enter the number!&quot;</span> &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">string s = <span class="built_in">toBinary</span>(n);</span><br><span class="line">os &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&#125; <span class="keyword">while</span> (n != <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-å†™ä¸¤ä¸ªæ¨¡æ¿å‡½æ•°-æ’å…¥æ’åºç®—æ³•çš„è¿­ä»£å’Œé€’å½’å®ç°"><a href="#2-å†™ä¸¤ä¸ªæ¨¡æ¿å‡½æ•°-æ’å…¥æ’åºç®—æ³•çš„è¿­ä»£å’Œé€’å½’å®ç°" class="headerlink" title="2. å†™ä¸¤ä¸ªæ¨¡æ¿å‡½æ•°:æ’å…¥æ’åºç®—æ³•çš„è¿­ä»£å’Œé€’å½’å®ç°"></a>2. å†™ä¸¤ä¸ªæ¨¡æ¿å‡½æ•°:æ’å…¥æ’åºç®—æ³•çš„è¿­ä»£å’Œé€’å½’å®ç°</h2><ol><li>è¿­ä»£</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">(T a[])</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertSort</span><span class="params">(T arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> minVal_index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i; i &lt; n; i++) &#123;</span><br><span class="line">minVal_index = i;</span><br><span class="line"><span class="keyword">for</span> (j = i; j &lt; n; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[minVal_index] &gt; arr[j])</span><br><span class="line">minVal_index = j;</span><br><span class="line">&#125;</span><br><span class="line">j = minVal_index;</span><br><span class="line">T temp = arr[minVal_index];</span><br><span class="line"><span class="keyword">while</span>(j &gt; i) &#123;</span><br><span class="line">arr[j] = arr[j<span class="number">-1</span>];</span><br><span class="line">j--;</span><br><span class="line">&#125;</span><br><span class="line">arr[i] = temp;</span><br><span class="line"><span class="built_in">output</span>(arr);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123; <span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">insertSort</span>(a, <span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-å­—ç¬¦ä¸²è§£æ"><a href="#3-å­—ç¬¦ä¸²è§£æ" class="headerlink" title="3. å­—ç¬¦ä¸²è§£æ"></a>3. å­—ç¬¦ä¸²è§£æ</h2><ul><li>æ–‡ä»¶å†…æœ‰<code>(010)(150123456789)|123|(430070)</code></li><li>æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºâ€åŒºå·|ç”µè¯å·ç |åŸå¸‚ç¼–å·|é‚®ç¼–â€</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//(010)(150123456789)|123|(430070)</span></span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">&quot;C:/Users/lenovo/Desktop/te.txt&quot;</span>, ios::binary | ios::in)</span></span>;</span><br><span class="line">string origin_data;</span><br><span class="line"><span class="built_in">getline</span>(in, origin_data);     <span class="comment">//è¯»å–æ–‡ä»¶</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;åŒºå·&quot;</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;ç”µè¯å·ç &quot;</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;åŸå¸‚ç¼–å·&quot;</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;é‚®ç¼–&quot;</span> &lt;&lt; endl;</span><br><span class="line">string id = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> a : origin_data) &#123;</span><br><span class="line"><span class="keyword">if</span> (a != <span class="string">&#x27;(&#x27;</span> &amp;&amp; a != <span class="string">&#x27;)&#x27;</span> &amp;&amp; a != <span class="string">&#x27;|&#x27;</span>) &#123;</span><br><span class="line">id+=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (id.<span class="built_in">length</span>()) &#123;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; id;</span><br><span class="line">id.<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5.0.Xæ¡†æ¶SQLæ³¨å…¥æ¼æ´</title>
      <link href="/2023/03/21/TP5sql/"/>
      <url>/2023/03/21/TP5sql/</url>
      
        <content type="html"><![CDATA[<h1 id="ThinkPHP5-0-Xæ¡†æ¶SQLæ³¨å…¥æ¼æ´"><a href="#ThinkPHP5-0-Xæ¡†æ¶SQLæ³¨å…¥æ¼æ´" class="headerlink" title="ThinkPHP5.0.Xæ¡†æ¶SQLæ³¨å…¥æ¼æ´"></a>ThinkPHP5.0.Xæ¡†æ¶SQLæ³¨å…¥æ¼æ´</h1><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><ol><li>è‡ªå·±è¿˜æ²¡æœ‰ç”¨composer,æ‰€ä»¥å…ˆç”¨äº†phpstudyç®€ç­”çš„æ­å»ºäº†ä¸€ä¸‹ç¯å¢ƒ</li></ol><h3 id="1-mysqlåˆ›å»ºæ•°æ®"><a href="#1-mysqlåˆ›å»ºæ•°æ®" class="headerlink" title="1. mysqlåˆ›å»ºæ•°æ®"></a>1. mysqlåˆ›å»ºæ•°æ®</h3><ol><li><p><code>create database thinkphp</code> åˆ›å»ºä¸€ä¸ªåä¸ºthinkphpçš„æ•°æ®åº“</p></li><li><p><code>create table users(id int auto_increment primary key,username varchar(20),password varchar(30));</code>åˆ›å»ºä¸€ä¸ªusersè¡¨é‡Œé¢çš„æ®µåä¸ºid,username,password,å…¶ä¸­idè®¾ç½®ä¸ºä¸»é”®</p></li><li><p>æ¥ç€æ’å…¥æ•°æ®<code>Insert into users(id,username,password) values(1,&#39;xbx_0d&#39;,&#39;tobebetter&#39;);</code></p></li></ol><h3 id="2-ThinkPHPåŸºç¡€é…ç½®"><a href="#2-ThinkPHPåŸºç¡€é…ç½®" class="headerlink" title="2. ThinkPHPåŸºç¡€é…ç½®"></a>2. ThinkPHPåŸºç¡€é…ç½®</h3><p>æ²¡å­¦è¿‡ThinkPHPçš„åŒå­¦å¯ä»¥å‚è€ƒä¸Šé¢æä¾›çš„ç¬¬ä¸€ä¸ªèµ„æ–™</p><p> 1.å¼€å¯debugæ¨¡å¼</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637311762253-4de65fb5-83b3-428a-9bdf-b7e34002cb26.png" alt="img"></p><p> 2.é…ç½®databaseæ–‡ä»¶</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637311910223-af6050fa-8125-4b81-97a4-32ad5a581558.png" alt="img"></p><p> 3.ä¿®æ”¹application\index\controller\index.phpæ–‡ä»¶<img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637312397619-1b99b2d1-0902-43fb-a04e-9253055dad9f.png" alt="img"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">index</span>\<span class="title class_">controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">think</span>\<span class="title">Db</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Index</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="title function_ invoke__">input</span>(<span class="string">&quot;get.name/a&quot;</span>);</span><br><span class="line">        <span class="title class_">Db</span>::<span class="title function_ invoke__">table</span>(<span class="string">&quot;users&quot;</span>)-&gt;<span class="title function_ invoke__">where</span>([<span class="string">&quot;id&quot;</span>=&gt;<span class="number">1</span>])-&gt;<span class="title function_ invoke__">insert</span>([<span class="string">&quot;username&quot;</span>=&gt;<span class="variable">$name</span>]);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ThinkPHP SQL Test.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p> 4.å°è¯•è§¦å‘æ¼æ´</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637312581283-6da25b8e-a05b-4d39-a8d0-f14f7a0aadc1.png" alt="img">payload:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">public</span>/index.php/index/index/index?name[<span class="number">0</span>]=inc&amp;name[<span class="number">1</span>]=<span class="title function_ invoke__">updatexml</span>(<span class="number">1</span>,<span class="title function_ invoke__">concat</span>(<span class="number">0x7</span>,<span class="title function_ invoke__">user</span>(),<span class="number">0x7e</span>),<span class="number">1</span>)&amp;name[<span class="number">2</span>]=<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="æ¼æ´åˆ†æ"><a href="#æ¼æ´åˆ†æ" class="headerlink" title="æ¼æ´åˆ†æ"></a>æ¼æ´åˆ†æ</h2><ol><li><p>å› ä¸ºæ˜¯å¤ç°æ‰€ä»¥æ˜ç¡®çŸ¥é“çš„æ˜¯insertå‡½æ•°å­˜åœ¨æ¼æ´,æ¥ä¸‹æ¥æ˜¯åˆ†æ</p></li><li><p>é¦–å…ˆçœ‹è‡ªå·±å®šä¹‰çš„æ§åˆ¶å™¨çš„indexå‡½æ•°</p><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211122140339648.png" alt="image-20211122140339648"></p></li><li><p>ç›´æ¥è½¬åˆ°insertå‡½æ•°çš„å®šä¹‰åœ¨&#x2F;thinkphp&#x2F;library&#x2F;think&#x2F;db&#x2F;Query.phpæ–‡ä»¶ä¸‹,è¿™é‡Œè‡ªå·±å°è¯•åˆ†æäº†ä¸€ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span> = [], <span class="variable">$replace</span> = <span class="literal">false</span>, <span class="variable">$getLastInsID</span> = <span class="literal">false</span>, <span class="variable">$sequence</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ†ææŸ¥è¯¢è¡¨è¾¾å¼</span></span><br><span class="line">        <span class="variable">$options</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseExpress</span>(); <span class="comment"># åˆ†ææˆ‘ä»¬å†™å…¥çš„è¡¨è¾¾å¼æ˜¯ç”¨æ¥æŸ¥è¯¢è¿˜æ˜¯å†™å…¥</span></span><br><span class="line">        <span class="variable">$data</span>    = <span class="title function_ invoke__">array_merge</span>(<span class="variable">$options</span>[<span class="string">&#x27;data&#x27;</span>], <span class="variable">$data</span>);  <span class="comment"># åˆå¹¶æ•°ç»„,$dataæ˜¯æˆ‘ä»¬è‡ªå·±ä¼ å…¥æ‰§è¡Œè¯­å¥</span></span><br><span class="line">        <span class="comment">// ç”ŸæˆSQLè¯­å¥</span></span><br><span class="line">        <span class="variable">$sql</span> = <span class="variable language_">$this</span>-&gt;builder-&gt;<span class="title function_ invoke__">insert</span>(<span class="variable">$data</span>, <span class="variable">$options</span>, <span class="variable">$replace</span>);</span><br><span class="line">        <span class="comment">//è¿è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™sqlçš„å€¼ä¸º&quot;INSERT INTO `users` (`username`) VALUES (:data__username) &quot;</span></span><br><span class="line">        <span class="comment">// è·å–å‚æ•°ç»‘å®š</span></span><br><span class="line">        <span class="variable">$bind</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getBind</span>();</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„å‚æ•°ç»‘å®šå°±æ˜¯ç»‘å®š:data_username</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$options</span>[<span class="string">&#x27;fetch_sql&#x27;</span>]) &#123;  <span class="comment">#è¿™é‡Œ$options[&#x27;fetch_sql&#x27;]å€¼ä¸ºfalseè·³è¿‡</span></span><br><span class="line">            <span class="comment">// è·å–å®é™…æ‰§è¡Œçš„SQLè¯­å¥</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;connection-&gt;<span class="title function_ invoke__">getRealSql</span>(<span class="variable">$sql</span>, <span class="variable">$bind</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œæ“ä½œ</span></span><br><span class="line">        <span class="variable">$result</span> = <span class="number">0</span> === <span class="variable">$sql</span> ? <span class="number">0</span> : <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">execute</span>(<span class="variable">$sql</span>, <span class="variable">$bind</span>);<span class="comment">#è¿™é‡Œå°±æ˜¯å¦‚æœsqlè¯­å¥ä¸ä¸ºç©ºå°±æ‰§è¡Œç»‘å®šå‚æ•°çš„sqlè¯­å¥</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$result</span>) &#123;</span><br><span class="line">            <span class="variable">$sequence</span>  = <span class="variable">$sequence</span> ?: (<span class="keyword">isset</span>(<span class="variable">$options</span>[<span class="string">&#x27;sequence&#x27;</span>]) ? <span class="variable">$options</span>[<span class="string">&#x27;sequence&#x27;</span>] : <span class="literal">null</span>);</span><br><span class="line">            <span class="variable">$lastInsId</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getLastInsID</span>(<span class="variable">$sequence</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$lastInsId</span>) &#123;</span><br><span class="line">                <span class="variable">$pk</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getPk</span>(<span class="variable">$options</span>);</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$pk</span>)) &#123;</span><br><span class="line">                    <span class="variable">$data</span>[<span class="variable">$pk</span>] = <span class="variable">$lastInsId</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$options</span>[<span class="string">&#x27;data&#x27;</span>] = <span class="variable">$data</span>;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">trigger</span>(<span class="string">&#x27;after_insert&#x27;</span>, <span class="variable">$options</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$getLastInsID</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$lastInsId</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥ç€æˆ‘ä»¬è·Ÿè¿›åˆ°<code>$sql = $this-&gt;builder-&gt;insert($data, $options, $replace);</code>çš„insert()å‡½æ•°</p><p>è¿™é‡Œæ„é€ äº†æˆ‘ä»¬æœ€åè¦æ‰§è¡Œçš„sqlè¯­å¥,æ‰€ä»¥æ¼æ´ä¸€èˆ¬äº§ç”Ÿåœ¨è¿™é‡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span>, <span class="variable">$options</span> = [], <span class="variable">$replace</span> = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ†æå¹¶å¤„ç†æ•°æ®</span></span><br><span class="line">        <span class="variable">$data</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseData</span>(<span class="variable">$data</span>, <span class="variable">$options</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$fields</span> = <span class="title function_ invoke__">array_keys</span>(<span class="variable">$data</span>);    <span class="comment">#ä»¥æ•°ç»„å½¢å¼è¿”å›$dataæ•°ç»„çš„é”®</span></span><br><span class="line">        <span class="variable">$values</span> = <span class="title function_ invoke__">array_values</span>(<span class="variable">$data</span>);  <span class="comment">#ä»¥æ•°ç»„å½¢å¼æ”¾å›$dataæ•°ç»„çš„å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="variable">$sql</span> = <span class="title function_ invoke__">str_replace</span>(</span><br><span class="line">            [<span class="string">&#x27;%INSERT%&#x27;</span>, <span class="string">&#x27;%TABLE%&#x27;</span>, <span class="string">&#x27;%FIELD%&#x27;</span>, <span class="string">&#x27;%DATA%&#x27;</span>, <span class="string">&#x27;%COMMENT%&#x27;</span>],</span><br><span class="line">            [</span><br><span class="line">                <span class="variable">$replace</span> ? <span class="string">&#x27;REPLACE&#x27;</span> : <span class="string">&#x27;INSERT&#x27;</span>,</span><br><span class="line">                <span class="variable">$this</span>-&gt;<span class="title function_ invoke__">parseTable</span>(<span class="variable">$options</span>[<span class="string">&#x27;table&#x27;</span>], <span class="variable">$options</span>),</span><br><span class="line">                <span class="title function_ invoke__">implode</span>(<span class="string">&#x27; , &#x27;</span>, <span class="variable">$fields</span>),</span><br><span class="line">                <span class="title function_ invoke__">implode</span>(<span class="string">&#x27; , &#x27;</span>, <span class="variable">$values</span>),</span><br><span class="line">                <span class="variable">$this</span>-&gt;<span class="title function_ invoke__">parseComment</span>(<span class="variable">$options</span>[<span class="string">&#x27;comment&#x27;</span>]),</span><br><span class="line">            ], <span class="variable">$this</span>-&gt;insertSql);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$sql</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å…ˆè½¬åˆ°çœ‹ä¸€ä¸‹æ•°æ®çš„è§£æ<code>$data = $this-&gt;parseData($data, $options)</code></p><p>å‡è®¾æˆ‘ä»¬ä¼ å…¥çš„æ˜¯<code>?name[0]=username&amp;name[1]=password&amp;name[2]=123456</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">parseData</span>(<span class="params"><span class="variable">$data</span>, <span class="variable">$options</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–ç»‘å®šä¿¡æ¯</span></span><br><span class="line">        <span class="variable">$bind</span> = <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">getFieldsBind</span>(<span class="variable">$options</span>[<span class="string">&#x27;table&#x27;</span>]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;*&#x27;</span> == <span class="variable">$options</span>[<span class="string">&#x27;field&#x27;</span>]) &#123;</span><br><span class="line">            <span class="variable">$fields</span> = <span class="title function_ invoke__">array_keys</span>(<span class="variable">$bind</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$fields</span> = <span class="variable">$options</span>[<span class="string">&#x27;field&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable">$result</span> = [];</span><br><span class="line">  <span class="comment">#è¿™é‡Œéå†äº†æ•°ç»„ æ­¤æ—¶çš„æ•°ç»„æ˜¯Array ( [username] =&gt; Array ( [0] =&gt; username [1] =&gt; password [2] =&gt; 123456 ) ) </span></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$data</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">            <span class="comment">#$key username</span></span><br><span class="line">            <span class="comment">#$val Array ( [0] =&gt; username [1] =&gt; password [2] =&gt; 123456 ) </span></span><br><span class="line">            <span class="variable">$item</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$key</span>, <span class="variable">$options</span>);</span><br><span class="line">            <span class="comment">#$item=`username`</span></span><br><span class="line">            <span class="comment">#è¿™é‡Œçš„$valæ˜¯æ•°ç»„æ‰€ä»¥è·³è¿‡</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_object</span>(<span class="variable">$val</span>) &amp;&amp; <span class="title function_ invoke__">method_exists</span>(<span class="variable">$val</span>, <span class="string">&#x27;__toString&#x27;</span>)) &#123;</span><br><span class="line">                <span class="comment">// å¯¹è±¡æ•°æ®å†™å…¥</span></span><br><span class="line">                <span class="variable">$val</span> = <span class="variable">$val</span>-&gt;<span class="title function_ invoke__">__toString</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">#å¦‚æœå­—æ®µåå«æœ‰.æˆ–è€…å­—æ®µåä¸åœ¨$filedsåˆ™æŠ¥é”™</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">false</span> === <span class="title function_ invoke__">strpos</span>(<span class="variable">$key</span>, <span class="string">&#x27;.&#x27;</span>) &amp;&amp; !<span class="title function_ invoke__">in_array</span>(<span class="variable">$key</span>, <span class="variable">$fields</span>, <span class="literal">true</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$options</span>[<span class="string">&#x27;strict&#x27;</span>]) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;fields not exists:[&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_null</span>(<span class="variable">$val</span>)) &#123;</span><br><span class="line">                <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="string">&#x27;NULL&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$val</span>) &amp;&amp; !<span class="keyword">empty</span>(<span class="variable">$val</span>)) &#123; <span class="comment">#è·Ÿè¿›åˆ°è¿™é‡Œ</span></span><br><span class="line">                <span class="comment">#è¿™é‡Œå¦‚æœ$val[0]çš„å€¼æ˜¯ä¸‹é¢ä¸‰ä¸ªä¸­çš„ä¸€ä¸ªåˆ™è¿›è¡Œäº†æ‹¼æ¥</span></span><br><span class="line">                <span class="keyword">switch</span> (<span class="variable">$val</span>[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;exp&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable">$val</span>[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;inc&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$val</span>[<span class="number">1</span>]) . <span class="string">&#x27;+&#x27;</span> . <span class="title function_ invoke__">floatval</span>(<span class="variable">$val</span>[<span class="number">2</span>]);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;dec&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$val</span>[<span class="number">1</span>]) . <span class="string">&#x27;-&#x27;</span> . <span class="title function_ invoke__">floatval</span>(<span class="variable">$val</span>[<span class="number">2</span>]);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_scalar</span>(<span class="variable">$val</span>)) &#123;</span><br><span class="line">                <span class="comment">// è¿‡æ»¤éæ ‡é‡æ•°æ®</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="number">0</span> === <span class="title function_ invoke__">strpos</span>(<span class="variable">$val</span>, <span class="string">&#x27;:&#x27;</span>) &amp;&amp; <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">isBind</span>(<span class="title function_ invoke__">substr</span>(<span class="variable">$val</span>, <span class="number">1</span>))) &#123;</span><br><span class="line">                    <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable">$val</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable">$key</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="variable">$key</span>);</span><br><span class="line">                    <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">bind</span>(<span class="string">&#x27;data__&#x27;</span> . <span class="variable">$key</span>, <span class="variable">$val</span>, <span class="keyword">isset</span>(<span class="variable">$bind</span>[<span class="variable">$key</span>]) ? <span class="variable">$bind</span>[<span class="variable">$key</span>] : PDO::<span class="variable constant_">PARAM_STR</span>);</span><br><span class="line">                    <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="string">&#x27;:data__&#x27;</span> . <span class="variable">$key</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è‡ªå·±å¤§æ¦‚æ‹äº†ä¸€ä¸‹æ€è·¯ æ„Ÿè§‰å·²ç»çŸ¥é“äº†æ³¨å…¥çš„é¡ºåºäº† æ¥ä¸‹æ¥å°±æ˜¯å¾…å…¥payloadæ¢³ç†ä¸€ä¸‹</p><p>è¿™é‡Œç”¨ä¸ƒæœˆç«å¸ˆå‚…ç»™çš„payload <code>?name[0]=inc&amp;name[1]=updatexml(1,concat(0x7,user(),0x7e),1)&amp;name[2]=1</code></p><p>æ¥ä¸‹æ¥åŠ¨æ€è°ƒè¯•ä¸€ä¸‹</p></li></ol><h3 id="1-å…¥å£å‡½æ•°"><a href="#1-å…¥å£å‡½æ•°" class="headerlink" title="1. å…¥å£å‡½æ•°"></a>1. å…¥å£å‡½æ•°</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211122190254568.png" alt="image-20211122190254568"></p><h3 id="2-è·Ÿè¿›åˆ°insertå‡½æ•°"><a href="#2-è·Ÿè¿›åˆ°insertå‡½æ•°" class="headerlink" title="2. è·Ÿè¿›åˆ°insertå‡½æ•°"></a>2. è·Ÿè¿›åˆ°insertå‡½æ•°</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211122190932980.png" alt="image-20211122190932980"></p><p>åœ¨çº¢çº¿çš„åœ°æ–¹è¿›è¡Œäº†ä¸€æ¬¡è§£æ,è¿™æ¬¡è§£æå’Œæ¼æ´å…³ç³»ä¸å¤§,åªæ˜¯è§£æäº†å½“å‰sqlè¯­å¥æˆ–è€…è¿™é‡Œåº”è¯¥ç§°ä¹‹ä¸ºè¡¨è¾¾å¼è¿›è¡Œäº†ä¸€æ¬¡è§£æ,ä¸»è¦å†…å®¹å°±æ˜¯,è¡¨å,å­—æ®µåè¿™äº›è·å¾—çš„ç»“æœå¦‚ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$options</span>:</span><br><span class="line"><span class="title function_ invoke__">Array</span> ( [table] =&gt; users [multi] =&gt; <span class="title function_ invoke__">Array</span> ( [AND] =&gt; <span class="title function_ invoke__">Array</span> ( [id] =&gt; <span class="title function_ invoke__">Array</span> ( [<span class="number">0</span>] =&gt; <span class="number">1</span> ) ) ) [where] =&gt; <span class="title function_ invoke__">Array</span> ( [AND] =&gt; <span class="title function_ invoke__">Array</span> ( [id] =&gt; <span class="number">1</span> ) ) [field] =&gt; * [data] =&gt; <span class="title function_ invoke__">Array</span> ( ) [strict] =&gt; <span class="number">1</span> [master] =&gt; [lock] =&gt; [fetch_pdo] =&gt; [fetch_sql] =&gt; [distinct] =&gt; [join] =&gt; [union] =&gt; [group] =&gt; [having] =&gt; [limit] =&gt; [order] =&gt; [force] =&gt; [comment] =&gt; ) </span><br></pre></td></tr></table></figure><p>åœ¨æ¥ä¸‹æ¥çš„åœ°æ–¹æ‰§è¡Œäº†array_merge()å‡½æ•°,æŠŠä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„,å¹¶èµ‹å€¼ç»™$data</p><p>æ­¤æ—¶$options[â€˜dataâ€™]ä¸ºç©º,è€Œ$dataå°±æ˜¯æˆ‘ä»¬æƒ³è¦æ’å…¥çš„é”®å€¼å¯¹</p><p>æ¥ä¸‹æ¥æ‰æ˜¯æœ€é‡è¦çš„</p><h3 id="3-builder-php-x2F-insert"><a href="#3-builder-php-x2F-insert" class="headerlink" title="3. builder.php&#x2F;insert()"></a>3. builder.php&#x2F;insert()</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211122211516906.png" alt="image-20211122211516906">åœ¨è¿™é‡Œå°±è¦è·Ÿè¿›åˆ°builderç±»çš„insert()å‡½æ•°äº†,è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯<strong>æ‹¼æ¥å‡ºæœ€åè¦æ‰§è¡ŒSQLè¯­å¥</strong></p><p><strong>æ‰€ä»¥è¦ç‰¹åˆ«å…³æ³¨è¿™ä¸ªå‡½æ•°</strong></p><p>è¿™é‡Œæ³¨æ„çš„æ˜¯builderå¹¶éæ˜¯builderç±»çš„å®ä¾‹åŒ–å¯¹è±¡,è€Œæ˜¯Mysqlç±»çš„</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637586782016-64ceefb6-bd92-4a90-9197-ccd16a64f272.png" alt="å›¾ç‰‡.png"></p><p>åªæ˜¯åœ¨è¿™é‡Œçš„Mysqlç±»ç»§æ‰¿äº†Builderç±»æ‰€ä»¥å­˜åœ¨insert()å‡½æ•°,åºŸè¯ä¸å¤šè¯´ç›´æ¥çœ‹insert()å‡½æ•°</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637586806130-e59464d6-f8b9-4ff9-af73-960efb2613ba.png" alt="å›¾ç‰‡.png"></p><p>è¿™é‡Œç›´æ¥æ‰§è¡Œäº†ä¸€ä¸ªparseData()å‡½æ•°ç»§ç»­è·Ÿè¿›,è¿™å°±å°±æ˜¯æ¼æ´çš„ç‚¹äº†,æ‰“æ°”ç²¾ç¥æ¥ everybody!</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">parseData</span>(<span class="params"><span class="variable">$data</span>, <span class="variable">$options</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> [];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–ç»‘å®šä¿¡æ¯</span></span><br><span class="line">        <span class="variable">$bind</span> = <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">getFieldsBind</span>(<span class="variable">$options</span>[<span class="string">&#x27;table&#x27;</span>]);</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;*&#x27;</span> == <span class="variable">$options</span>[<span class="string">&#x27;field&#x27;</span>]) &#123;</span><br><span class="line">            <span class="variable">$fields</span> = <span class="title function_ invoke__">array_keys</span>(<span class="variable">$bind</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$fields</span> = <span class="variable">$options</span>[<span class="string">&#x27;field&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$result</span> = [];</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$data</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">            <span class="title function_ invoke__">print_r</span>(<span class="variable">$val</span>);</span><br><span class="line">            <span class="variable">$item</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$key</span>, <span class="variable">$options</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_object</span>(<span class="variable">$val</span>) &amp;&amp; <span class="title function_ invoke__">method_exists</span>(<span class="variable">$val</span>, <span class="string">&#x27;__toString&#x27;</span>)) &#123;</span><br><span class="line">                <span class="comment">// å¯¹è±¡æ•°æ®å†™å…¥</span></span><br><span class="line">                <span class="variable">$val</span> = <span class="variable">$val</span>-&gt;<span class="title function_ invoke__">__toString</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">false</span> === <span class="title function_ invoke__">strpos</span>(<span class="variable">$key</span>, <span class="string">&#x27;.&#x27;</span>) &amp;&amp; !<span class="title function_ invoke__">in_array</span>(<span class="variable">$key</span>, <span class="variable">$fields</span>, <span class="literal">true</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$options</span>[<span class="string">&#x27;strict&#x27;</span>]) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;fields not exists:[&#x27;</span> . <span class="variable">$key</span> . <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_null</span>(<span class="variable">$val</span>)) &#123;</span><br><span class="line">                <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="string">&#x27;NULL&#x27;</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$val</span>) &amp;&amp; !<span class="keyword">empty</span>(<span class="variable">$val</span>)) &#123;</span><br><span class="line">                <span class="keyword">switch</span> (<span class="variable">$val</span>[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;exp&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable">$val</span>[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;inc&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$val</span>[<span class="number">1</span>]) . <span class="string">&#x27;+&#x27;</span> . <span class="title function_ invoke__">floatval</span>(<span class="variable">$val</span>[<span class="number">2</span>]);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;dec&#x27;</span>:</span><br><span class="line">                        <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">parseKey</span>(<span class="variable">$val</span>[<span class="number">1</span>]) . <span class="string">&#x27;-&#x27;</span> . <span class="title function_ invoke__">floatval</span>(<span class="variable">$val</span>[<span class="number">2</span>]);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;result:&lt;br&gt;&quot;</span>;</span><br><span class="line">                <span class="title function_ invoke__">print_r</span>(<span class="variable">$result</span>);</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_scalar</span>(<span class="variable">$val</span>)) &#123;</span><br><span class="line">                <span class="comment">// è¿‡æ»¤éæ ‡é‡æ•°æ®</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="number">0</span> === <span class="title function_ invoke__">strpos</span>(<span class="variable">$val</span>, <span class="string">&#x27;:&#x27;</span>) &amp;&amp; <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">isBind</span>(<span class="title function_ invoke__">substr</span>(<span class="variable">$val</span>, <span class="number">1</span>))) &#123;</span><br><span class="line">                    <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="variable">$val</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable">$key</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="variable">$key</span>);</span><br><span class="line">                    <span class="variable language_">$this</span>-&gt;query-&gt;<span class="title function_ invoke__">bind</span>(<span class="string">&#x27;data__&#x27;</span> . <span class="variable">$key</span>, <span class="variable">$val</span>, <span class="keyword">isset</span>(<span class="variable">$bind</span>[<span class="variable">$key</span>]) ? <span class="variable">$bind</span>[<span class="variable">$key</span>] : PDO::<span class="variable constant_">PARAM_STR</span>);</span><br><span class="line">                    <span class="variable">$result</span>[<span class="variable">$item</span>] = <span class="string">&#x27;:data__&#x27;</span> . <span class="variable">$key</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ‰§è¡Œäº†ä¸€ä¸ª<code>$bind = $this-&gt;query-&gt;getFieldsBind($options[&#39;table&#39;]);</code>è¿™ä¸ªå‡½æ•°çš„å…·ä½“æµç¨‹è¿˜ä¸æ¸…æ¥š</p><p>ä½†æ˜¯è¿”å›çš„å€¼æ˜¯è¿™æ ·çš„<code>Array (    [id] =&gt; 1    [username] =&gt; 2    [password] =&gt; 2 )</code></p><p>æš‚ä¸”å¯ä»¥ç†è§£ä¸ºæ˜¯ä»¥æ•°ç»„çš„å½¢å¼è¿”å›æ•°æ®åº“çš„å­—æ®µå(90%çš„ç¡®å®š!)</p><p>æ¥ç€å°±æ˜¯<code>$fields = array_keys($bind);</code>å°†$bindæ•°ç»„çš„é”®ä»¥ä¸€ä¸ªæ–°çš„æ•°ç»„èµ‹å€¼åˆ°$fields</p><h3 id="4-foreach-ç”Ÿæˆsqlè¯­å¥"><a href="#4-foreach-ç”Ÿæˆsqlè¯­å¥" class="headerlink" title="4. foreach()ç”Ÿæˆsqlè¯­å¥"></a>4. foreach()ç”Ÿæˆsqlè¯­å¥</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637587324239-15ad0a71-8ec0-410b-a600-3899a308c822.png" alt="å›¾ç‰‡.png"></p><p>æ­¤æ—¶é”®å€¼$keyæ˜¯username $valæ˜¯ä¸€ä¸ªæ•°ç»„åœ¨å›¾ä¸­å·²ç»ç»™å‡ºæ¥äº†</p><p>è€Œ$itemåœ¨parseKeyè§£æåå€¼æ˜¯å˜ä¸º`username`</p><p>ä¸‹é¢çš„ifç”±äºä¸æ˜¯å¯¹è±¡ç›´æ¥è·³è¿‡,ç›´æ¥è¿è¡Œåˆ°</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637587378450-963c32a2-e59a-4017-b7d9-0f58adbffe19.png" alt="å›¾ç‰‡.png"></p><p>æ­¤æ—¶$val[0]çš„å€¼æ˜¯incç›´æ¥è·³åˆ°case inc:æ‰§è¡Œä¸‹é¢çš„è¯­å¥</p><p>é€šè¿‡æ‹¼æ¥<code>$result[$item]=updatexml(1,concat(0x7,user(),0x7e),1)+1</code></p><p>è€Œreusltçš„æ•°ç»„çš„å€¼å°±æ˜¯</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">Array</span> ( [`username`] =&gt; <span class="title function_ invoke__">updatexml</span>(<span class="number">1</span>,<span class="title function_ invoke__">concat</span>(<span class="number">0x7</span>,<span class="title function_ invoke__">user</span>(),<span class="number">0x7e</span>),<span class="number">1</span>)+<span class="number">1</span> ) </span><br></pre></td></tr></table></figure><p>è¿”å›resultæ•°ç»„åˆ°insert()å‡½æ•°</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637587425904-f1872ee2-e34d-4204-ae67-349b1bbd833b.png" alt="å›¾ç‰‡.png"></p><p>åˆå§‹å®šä¹‰<code>protected $insertSql = &#39;%INSERT% INTO %TABLE% (%FIELD%) VALUES (%DATA%) %COMMENT%&#39;;</code></p><p>ç»è¿‡è§£æåå˜ä¸ºsqlè¯­å¥å˜ä¸º</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `users` (`username`) <span class="keyword">VALUES</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7</span>,<span class="keyword">user</span>(),<span class="number">0x7e</span>),<span class="number">1</span>)<span class="operator">+</span><span class="number">123456</span>) </span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2021/png/22602434/1637587444264-8982234a-14ec-4f6f-889f-821c233fea94.png" alt="å›¾ç‰‡.png"></p><p>ç”±äºåœ¨çº¢çº¿çš„åœ°æ–¹æ‰§è¡Œsqlè¯­å¥çš„æ—¶å€™ç”±äºupdatexmlè€Œäº§ç”ŸæŠ¥é”™</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><ol><li><p>è¿™é‡Œæ¼æ´çš„ç¬¬ä¸€å‚æ•°name[0]å¯ä»¥ä¿®æ”¹ä¸ºdecå¯ä»¥ ä½†æ˜¯expæˆ‘å¤ç°å¤±è´¥äº† åé¢å›è¡¥å……å®Œæ•´!</p></li><li><p>ç¬¬ä¸€æ¬¡å®¡è®¡TPæ¡†æ¶,å¯èƒ½å®¡è®¡çš„ä¸å¤Ÿå®Œç¾,å¸Œæœ›å¤§å®¶å¤šå¤šåŒ…æ¶µ!</p></li><li><p>æœ¬æ–‡å‚è€ƒä¸ƒæœˆç«å¸ˆå‚…çš„åšå®¢</p><p><a href="%22https://mochazz.github.io/2018/04/14/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%20%20ThinkPHP%205.0.x%E6%A1%86%E6%9E%B6SQL%E6%B3%A8%E2%BC%8A/#ThinkPHP%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%22">1. ä»£ç å®¡è®¡ | ThinkPHP5.0.xæ¡†æ¶SQLæ³¨â¼Š-ä¸ƒæœˆç«å¸ˆå‚…</a></p><p><a href="https://github.com/top-think/framework/commit/363fd4d90312f2cfa427535b7ea01a097ca8db1b">2. å®˜æ–¹æ¼æ´ä¿®å¤</a></p></li><li><p>åæ¥å‘ç°å¦‚æœname[0]&#x3D;exp ç»è¿‡å¤„ç†ä¹‹åå€¼</p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20211122233302725.png" alt="image-20211122233302725"  /><p>$val[0]&#x3D;â€™exp â€˜æ‰€ä»¥æ²¡æœ‰åŒ¹é…åˆ°,ä½†æ˜¯incå’Œdecå´æ²¡æœ‰åŠ ä¸€ä¸ªtrim,æ‰€ä»¥è·Ÿè¿›äº†ä¸€ä¸‹</p><p>åœ¨è¿™é‡Œæ‰“äº†ä¸€ä¸‹dump($val[0]);å€¼æ˜¯<code>string &#39;exp &#39; (length=4)</code></p><p>æˆ‘åœ¨è¿™é‡Œä¸€ä¸ªä¸€ä¸ªå°è¯•äº†ä¸€ä¸‹ æœ€åå‘ç°</p><p>åœ¨å…¥å£å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$name</span> = <span class="title function_ invoke__">input</span>(<span class="string">&quot;get.name/a&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">dump</span>(<span class="variable">$name</span>[<span class="number">0</span>]);</span><br><span class="line">    <span class="title class_">Db</span>::<span class="title function_ invoke__">table</span>(<span class="string">&quot;users&quot;</span>)-&gt;<span class="title function_ invoke__">where</span>([<span class="string">&quot;id&quot;</span>=&gt;<span class="number">1</span>])-&gt;<span class="title function_ invoke__">insert</span>([<span class="string">&quot;username&quot;</span>=&gt;<span class="variable">$name</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ThinkPHP SQL Test.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ‰“å‡º$name[0],å¦‚æœä¼ çš„æ˜¯expå°±å¤šäº†ä¸€ä¸ªç©ºæ ¼,å¦‚æœæ˜¯incå°±æ²¡æœ‰æ·»åŠ ç©ºæ ¼</p><p>æœ€ååœ¨è¿™ä¸ªç›®å½•ä¸‹å‘ç°äº†ä¸€ä¸ªå‡½æ•° æ—¥!</p><p><code>\thinkphp\library\think\Request.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">filterExp</span>(<span class="params">&amp;<span class="variable">$value</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è¿‡æ»¤æŸ¥è¯¢ç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$value</span>) &amp;&amp; <span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/^(EXP|NEQ|GT|EGT|LT|ELT|OR|XOR|LIKE|NOTLIKE|NOT LIKE|NOT BETWEEN|NOTBETWEEN|BETWEEN|NOTIN|NOT IN|IN)$/i&#x27;</span>, <span class="variable">$value</span>)) &#123;</span><br><span class="line">        <span class="variable">$value</span> .= <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// TODO å…¶ä»–å®‰å…¨è¿‡æ»¤</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>G!</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> thinkphpæ¡†æ¶å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ilove wyw</title>
      <link href="/2023/03/21/ilove-wyw/"/>
      <url>/2023/03/21/ilove-wyw/</url>
      
        <content type="html"><![CDATA[<p>å‚»é€¼!</p>]]></content>
      
      
      <categories>
          
          <category> æˆé•¿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æˆé•¿ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
